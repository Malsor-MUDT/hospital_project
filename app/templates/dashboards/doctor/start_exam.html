{% extends "dashboards/doctor/base_doctor.html" %}

{% block title %}Medical Examination{% endblock %}
{% block header %}Medical Examination{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded shadow space-y-6 max-w-3xl">

    <h2 class="text-xl font-semibold text-teal-700">
        Patient: {{ patient.name }}
    </h2>

    <form method="POST"
          action="{{ url_for('doctor.submit_report', patient_id=patient.patient_id) }}"
          class="space-y-4">

        <!-- Symptoms -->
        <div>
            <label class="block font-medium text-teal-700">Symptoms</label>
            <textarea name="symptoms"
                      required
                      class="w-full border rounded px-3 py-2"
                      rows="3"></textarea>
        </div>

        <!-- Diagnosis -->
        <div>
            <label class="block font-medium text-teal-700">Diagnosis</label>
            <textarea name="diagnosis"
                      required
                      class="w-full border rounded px-3 py-2"
                      rows="3"></textarea>
        </div>

        <!-- Notes -->
        <div>
            <label class="block font-medium text-teal-700">Doctor Notes</label>
            <textarea name="notes"
                      class="w-full border rounded px-3 py-2"
                      rows="2"></textarea>
        </div>

        <!-- Treatment Needed -->
        <div>
            <label class="block font-medium text-teal-700 mb-1">
                Is treatment required?
            </label>

            <select name="treatment_required"
                    class="w-full border rounded px-3 py-2">
                <option value="0">No – Consultation only</option>
                <option value="1">Yes – Treatment required</option>
            </select>
        </div>

        <!-- Actions -->
        <div class="flex justify-end gap-2 pt-4">
            <a href="{{ url_for('doctor.patients') }}"
               class="border px-4 py-2 rounded">
                Cancel
            </a>

            <button type="submit"
                    class="bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700">
                Save Medical Report
            </button>
        </div>
    </form>

</div>
{% endblock %}
